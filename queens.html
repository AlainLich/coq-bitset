<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>queens</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library queens</h1>

<div class="code">
<span class="id" title="var">From</span> <span class="id" title="var">Ssreflect</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrbool</span> <span class="id" title="library">eqtype</span> <span class="id" title="library">ssrnat</span> <span class="id" title="library">seq</span> <span class="id" title="library">fintype</span> <span class="id" title="library">ssrfun</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">MathComp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">tuple</span> <span class="id" title="library">finset</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Bits</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bits</span> <span class="id" title="library">extraction.axioms32</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#"><span class="id" title="library">Relation_Operators</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Lexicographic_Product.html#"><span class="id" title="library">Lexicographic_Product</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Arith.Wf_nat.html#"><span class="id" title="library">Wf_nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Bitset.props.bineqs.html#"><span class="id" title="library">bineqs</span></a> <a class="idref" href="Bitset.repr_op.html#"><span class="id" title="library">repr_op</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fromInt_elim"><span class="id" title="lemma">fromInt_elim</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> (<a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a> <a class="idref" href="Bitset.repr_op.html#toInt_def"><span class="id" title="axiom">toInt_def</span></a> <span class="id" title="lemma">toNatK</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="lemma">bitsFromIntK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ladd_repr"><span class="id" title="lemma">ladd_repr</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="axiom">add</span> (<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <a class="idref" href="queens.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> (<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#y"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Bitset.repr_op.html#toInt_def"><span class="id" title="axiom">toInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: <span class="id" title="definition">bitsFromInt</span> (<span class="id" title="axiom">add</span> (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span><span class="id" title="notation">)</span>) (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">y</span><span class="id" title="notation">)</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">bitsFromInt</span> (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span> <span class="id" title="notation">+</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="definition">bitsFromInt</span> (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#(</span><span class="id" title="var">x</span> <span class="id" title="notation">+</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#(</span><span class="id" title="var">x</span> <span class="id" title="notation">+</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">bitsToIntK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: <span class="id" title="definition">native_repr</span> (<span class="id" title="axiom">add</span> (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span><span class="id" title="notation">)</span>) (<span class="id" title="definition">bitsToInt</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">y</span><span class="id" title="notation">)</span>)) (<span class="id" title="abbreviation">addB</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span><span class="id" title="notation">)</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">y</span><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">add_repr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">fromNat_addBn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">eq_adj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">add_repr</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">bitsFromInt_inj</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fromInt_zero"><span class="id" title="lemma">fromInt_zero</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="lemma">axioms32.zero_repr</span>⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">native_repr</span> <span class="id" title="lemma">eq_adj</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">H</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">toNat_fromNat</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fromInt_one"><span class="id" title="lemma">fromInt_one</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> <span class="id" title="axiom">one</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="lemma">axioms32.one_repr</span>⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">native_repr</span> <span class="id" title="lemma">eq_adj</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">H</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">toNat_fromNat</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_repr"><span class="id" title="lemma">exists_repr</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="queens.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">bs</span> := <span class="id" title="definition">bitsFromInt</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="notation">[</span> <span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="definition">getBit</span> <span class="id" title="var">bs</span> <span class="id" title="var">x</span> <span class="id" title="notation">]</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bs</span>; <span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">bitsFromInt_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bitsFromIntK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="pos"><span class="id" title="record">pos</span></a> := <a name="mkPos"><span class="id" title="constructor">mkPos</span></a> { <a name="ld"><span class="id" title="projection">ld</span></a>: <span class="id" title="axiom">Int</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="col"><span class="id" title="projection">col</span></a>: <span class="id" title="axiom">Int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="rd"><span class="id" title="projection">rd</span></a>: <span class="id" title="axiom">Int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="full"><span class="id" title="projection">full</span></a>: <span class="id" title="axiom">Int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="poss"><span class="id" title="projection">poss</span></a>: <span class="id" title="axiom">Int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="curCount"><span class="id" title="projection">curCount</span></a>: <span class="id" title="axiom">Int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="mode"><span class="id" title="projection">mode</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Hinv"><span class="id" title="projection">Hinv</span></a>: <span class="id" title="axiom">eq</span> (<span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="method">poss</span></a> <a class="idref" href="queens.html#col"><span class="id" title="method">col</span></a>) <span class="id" title="axiom">zero</span> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dep2"><span class="id" title="definition">dep2</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Specif.html#sigT"><span class="id" title="inductive">sigT</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dep3"><span class="id" title="definition">dep3</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Specif.html#sigT"><span class="id" title="inductive">sigT</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="mk2"><span class="id" title="definition">mk2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">m</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="queens.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="mk3"><span class="id" title="definition">mk3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#dep3"><span class="id" title="definition">dep3</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">m</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="queens.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a>) <span class="id" title="var">x</span> (<a class="idref" href="queens.html#mk2"><span class="id" title="definition">mk2</span></a> <span class="id" title="var">t</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lt_pq"><span class="id" title="definition">lt_pq</span></a> : <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#lexprod"><span class="id" title="inductive">lexprod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">Peano.lt</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">Peano.lt</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lt_npq"><span class="id" title="definition">lt_npq</span></a> : <a class="idref" href="queens.html#dep3"><span class="id" title="definition">dep3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#dep3"><span class="id" title="definition">dep3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#lexprod"><span class="id" title="inductive">lexprod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="queens.html#dep2"><span class="id" title="definition">dep2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">Peano.lt</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒<a class="idref" href="queens.html#lt_pq"><span class="id" title="definition">lt_pq</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_lexprod"><span class="id" title="lemma">wf_lexprod</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="queens.html#lt_npq"><span class="id" title="definition">lt_npq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Lexicographic_Product.html#wf_lexprod"><span class="id" title="lemma">wf_lexprod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Lexicographic_Product.html#wf_lexprod"><span class="id" title="lemma">wf_lexprod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Inverse_Image.html#"><span class="id" title="library">Inverse_Image</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lt"><span class="id" title="definition">lt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <a class="idref" href="queens.html#lt_npq"><span class="id" title="definition">lt_npq</span></a> (<a class="idref" href="queens.html#mk3"><span class="id" title="definition">mk3</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="queens.html#mk3"><span class="id" title="definition">mk3</span></a> <a class="idref" href="queens.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_nat3"><span class="id" title="lemma">wf_nat3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="queens.html#lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#wf_lexprod"><span class="id" title="lemma">wf_lexprod</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pos_order"><span class="id" title="definition">pos_order</span></a> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="queens.html#pos"><span class="id" title="record">pos</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>2 <span class="id" title="notation">^</span> <span class="id" title="definition">wordsize</span> <span class="id" title="notation">-</span> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#p1"><span class="id" title="variable">p1</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="definition">nat_of_bool</span> (<a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#p1"><span class="id" title="variable">p1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#p1"><span class="id" title="variable">p1</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>2 <span class="id" title="notation">^</span> <span class="id" title="definition">wordsize</span> <span class="id" title="notation">-</span> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#p2"><span class="id" title="variable">p2</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="definition">nat_of_bool</span> (<a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#p2"><span class="id" title="variable">p2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#p2"><span class="id" title="variable">p2</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="nqueens_wf"><span class="id" title="lemma">nqueens_wf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#wf_nat3"><span class="id" title="lemma">wf_nat3</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fromInt_cardinal"><span class="id" title="lemma">fromInt_cardinal</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">E</span>, <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="queens.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><a class="idref" href="queens.html#E"><span class="id" title="variable">E</span></a><span class="id" title="notation">|</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">i</span> <span class="id" title="var">E</span> <span class="id" title="var">HE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Bitset.repr_op.html#cardinal_repr"><span class="id" title="lemma">cardinal_repr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">E</span> <span class="id" title="var">HE</span>) ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">natural_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">H</span>⇒ [<span class="id" title="var">bs</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hbs1</span> <span class="id" title="var">Hbs2</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">native_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hbs1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="axiom">eqIntP</span>: <span class="id" title="var">Hbs1</span>⇒ <span class="id" title="var">Hbs1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbs1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bitsToIntK</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">#|</span><span class="id" title="var">E</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">toNat</span> (<span class="id" title="definition">fromNat</span> (<span class="id" title="var">n</span> := <span class="id" title="definition">wordsize</span>) (<span class="id" title="notation">#|</span><span class="id" title="var">E</span><span class="id" title="notation">|</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">toNat_fromNatBounded</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="definition">wordsize</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> {5}-&gt;: <span class="id" title="definition">wordsize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">|</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">card_ord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subset_leq_card</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subset_predT</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hbs2</span> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;these&nbsp;are&nbsp;true&nbsp;only&nbsp;if&nbsp;bit&nbsp;is&nbsp;not&nbsp;in&nbsp;col&nbsp;/&nbsp;is&nbsp;in&nbsp;poss&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="cardinal_1"><span class="id" title="lemma">cardinal_1</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">st</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<span class="id" title="axiom">neg</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="axiom">land</span> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;bit&nbsp;:&amp;:&nbsp;(col&nbsp;st)&nbsp;=&nbsp;set0&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="notation">&lt;</span> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>)). <span class="comment">(*&nbsp;adding&nbsp;'bit'&nbsp;adds&nbsp;bits&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">st</span> <span class="id" title="var">Hposs</span> <span class="id" title="var">bit</span> <span class="id" title="var">Hbit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hx</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbNE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ /<span class="id" title="lemma">forallP</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hposs'</span>: <span class="id" title="var">P</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> ⇒<span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) <span class="id" title="axiom">zero</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="axiom">eqIntP</span>: <span class="id" title="var">Habs'</span>⇒ <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hposs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hposs'</span>⇒ <span class="id" title="var">Hposs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">proper0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hposs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">properP</span>: <span class="id" title="var">Hposs'</span>⇒ [<span class="id" title="var">_</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx1</span> <span class="id" title="var">Hx2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Habs</span> <span class="id" title="var">x</span>)=&gt; <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hx</span>⇒ [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">X</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">HP</span> <span class="id" title="var">Hx</span>)=&gt; <span class="id" title="var">Hk</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#fromInt_cardinal"><span class="id" title="lemma">fromInt_cardinal</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">C</span> <span class="id" title="var">HC</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#fromInt_cardinal"><span class="id" title="lemma">fromInt_cardinal</span></a> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">bit</span>) (<span class="id" title="var">C</span> <span class="id" title="notation">:|:</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">proper_card</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">properUl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subsets_disjoint</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setDidPl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setDE</span> <span class="id" title="lemma">setCK</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">X</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<span class="id" title="axiom">land</span> <span class="id" title="var">bit</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>)) <span class="id" title="axiom">zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hbit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒<span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="lemma">in_set0</span> <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span>) ⇒ <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="lemma">in_set1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="cardinal_2"><span class="id" title="lemma">cardinal_2</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">st</span>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<span class="id" title="axiom">neg</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="keyword">in</span> <span class="comment">(*&nbsp;bit&nbsp;the&nbsp;singleton&nbsp;{minimum&nbsp;in&nbsp;poss&nbsp;st}&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<span class="id" title="axiom">lnot</span> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>))) <span class="id" title="notation">&lt;</span> <a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="Bitset.repr_op.html#cardinal"><span class="id" title="definition">cardinal</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)). <span class="comment">(*&nbsp;removing&nbsp;'bit'&nbsp;removes&nbsp;bits&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">st</span> <span class="id" title="var">bit</span> <span class="id" title="var">Hposs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hx</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbNE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ /<span class="id" title="lemma">forallP</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hposs'</span>: <span class="id" title="var">P</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> ⇒<span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) <span class="id" title="axiom">zero</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="axiom">eqIntP</span>: <span class="id" title="var">Habs'</span>⇒ <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hposs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hposs'</span>⇒ <span class="id" title="var">Hposs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">proper0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hposs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">properP</span>: <span class="id" title="var">Hposs'</span>⇒ [<span class="id" title="var">_</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx1</span> <span class="id" title="var">Hx2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Habs</span> <span class="id" title="var">x</span>)=&gt; <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hx</span>⇒ [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">X</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">HP</span> <span class="id" title="var">Hx</span>)=&gt; <span class="id" title="var">Hk</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#fromInt_cardinal"><span class="id" title="lemma">fromInt_cardinal</span></a> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) (<span class="id" title="axiom">lnot</span> <span class="id" title="var">bit</span>)) (<span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="notation">~:</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#fromInt_cardinal"><span class="id" title="lemma">fromInt_cardinal</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">P</span> <span class="id" title="var">HP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">proper_card</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">properP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">subsetIl</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">arg_min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="lemma">pickP</span>⇒ <span class="id" title="var">y</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span> ⇒ [<span class="id" title="var">H1</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_and</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">orP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#compl_repr"><span class="id" title="lemma">compl_repr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a>: <a class="idref" href="queens.html#pos"><span class="id" title="record">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="axiom">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">Fix</span> <a class="idref" href="queens.html#nqueens_wf"><span class="id" title="lemma">nqueens_wf</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="axiom">Int</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">st</span>: <a class="idref" href="queens.html#pos"><span class="id" title="record">pos</span></a>) (<span class="id" title="var">countNQueensAux</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">st'</span>: <a class="idref" href="queens.html#pos"><span class="id" title="record">pos</span></a>, <a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> <a class="idref" href="queens.html#st'"><span class="id" title="variable">st'</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="axiom">Int</span>) ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">x</span> <span class="id" title="keyword">return</span> <a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><span class="id" title="axiom">eq</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)<span class="id" title="notation">)</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="axiom">one</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">poss</span> := <span class="id" title="axiom">lnot</span> (<span class="id" title="axiom">lor</span> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="variable">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="axiom">eq</span> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="axiom">zero</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">x</span> <span class="id" title="keyword">return</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">H'</span> ⇒ <a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">H'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<span class="id" title="axiom">neg</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">count</span> := <a class="idref" href="queens.html#countNQueensAux"><span class="id" title="variable">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="axiom">lsr</span> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>) <span class="id" title="axiom">one</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="axiom">lsl</span> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>) <span class="id" title="axiom">one</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="variable">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) (<span class="id" title="axiom">lnot</span> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="axiom">add</span> (<a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="queens.html#count"><span class="id" title="variable">count</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">Logic.eq_refl</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">Logic.eq_refl</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">L</span> <span class="id" title="var">HL</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">R</span> <span class="id" title="var">HR</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="var">L</span> <span class="id" title="notation">:|:</span> <span class="id" title="var">R</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="var">C</span><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hin</span>: (<span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#compl_repr"><span class="id" title="lemma">compl_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> /= <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#left_lex"><span class="id" title="constructor">left_lex</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<span class="id" title="axiom">lor</span> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>) <span class="id" title="var">bit</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set0I</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#left_lex"><span class="id" title="constructor">left_lex</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">ltP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ltn_sub2l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">toNatBounded</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="queens.html#cardinal_1"><span class="id" title="lemma">cardinal_1</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<span class="id" title="axiom">neg</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>)))=&gt; [<span class="id" title="var">N</span> <span class="id" title="var">HN</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">F</span>) <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set0I</span> <span class="id" title="lemma">eq_refl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<span class="id" title="axiom">neg</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>)))=&gt; [<span class="id" title="var">N</span> <span class="id" title="var">HN</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="notation">(</span><span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">N</span><span class="id" title="notation">)</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setIAC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>)) <span class="id" title="axiom">zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#Hinv"><span class="id" title="projection">Hinv</span></a> <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set0I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">P</span> <span class="id" title="var">HP</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">bit</span>)=&gt; [<span class="id" title="var">B</span> <span class="id" title="var">HB</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="notation">(</span><span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <span class="id" title="var">B</span><span class="id" title="notation">))</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setIAC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>)) <span class="id" title="axiom">zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#Hinv"><span class="id" title="projection">Hinv</span></a> <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set0I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#compl_repr"><span class="id" title="lemma">compl_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">ltP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#cardinal_2"><span class="id" title="lemma">cardinal_2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Habs'</span>: <span class="id" title="axiom">eq</span> (<span class="id" title="axiom">land</span> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <span class="id" title="var">st</span>)) <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <span class="id" title="var">st</span>))=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">F</span>) <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set0I</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="countNQueens"><span class="id" title="definition">countNQueens</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <span class="id" title="axiom">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> (<span class="id" title="axiom">dec</span> (<span class="id" title="axiom">lsl</span> <span class="id" title="axiom">one</span> (<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <span class="id" title="var">n</span>))) <span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="definition">set0</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set0I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="get_coord"><span class="id" title="definition">get_coord</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">B</span>: <span class="id" title="definition">wordsize</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> (<span class="id" title="definition">wordsize</span><span class="id" title="notation">.-</span><span class="id" title="notation">tuple</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)) (<span class="id" title="var">x</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) (<span class="id" title="var">y</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) := <span class="id" title="definition">tnth</span> (<span class="id" title="definition">tnth</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="queens.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_complete"><span class="id" title="definition">is_complete</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">k'</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">k'</span> <span class="id" title="var">k</span> <span class="id" title="notation">==</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_correct"><span class="id" title="definition">is_correct</span></a> <span class="id" title="var">cur</span> <span class="id" title="var">n</span> <span class="id" title="var">B</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <span class="id" title="keyword">∀</span> <span class="id" title="var">i'</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">i</span> <span class="id" title="var">i'</span><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i'</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#cur"><span class="id" title="variable">cur</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="notation">[</span><span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <span class="id" title="keyword">∀</span> <span class="id" title="var">j'</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~~</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i'</span> <span class="id" title="notation">==</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">j</span> <span class="id" title="var">j'</span><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">!=</span> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i'</span> <span class="id" title="notation">!=</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <span class="comment">(*&nbsp;Not&nbsp;on&nbsp;the&nbsp;same&nbsp;horizontal&nbsp;/&nbsp;vertical&nbsp;line&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <span class="id" title="notation">!=</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">i'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <span class="comment">(*&nbsp;Not&nbsp;on&nbsp;the&nbsp;same&nbsp;right&nbsp;diagonal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">i'</span> <span class="id" title="notation">!=</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]]</span>. <span class="comment">(*&nbsp;Not&nbsp;on&nbsp;the&nbsp;same&nbsp;left&nbsp;diagonal&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">B</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">j</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="repr_ld"><span class="id" title="definition">repr_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i'</span> <span class="id" title="var">ld</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> (<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">i'</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">i</span> <span class="id" title="var">i'</span><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="repr_col"><span class="id" title="definition">repr_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">col</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> (<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i'</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">j</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="repr_rd"><span class="id" title="definition">repr_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i'</span> <span class="id" title="var">rd</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> (<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="repr_full"><span class="id" title="definition">repr_full</span></a> <span class="id" title="var">n</span> <span class="id" title="var">full</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span><span class="id" title="notation">,</span> <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="notation">==&gt;</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="empty_board"><span class="id" title="definition">empty_board</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="notation">|</span> <span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="definition">ordinal_finType</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">B'</span> <span class="id" title="var">i'</span> := <span class="id" title="notation">[</span><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <span class="id" title="var">i</span> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">==&gt;</span> <span class="id" title="notation">(</span><span class="id" title="var">i</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="repr_queen"><span class="id" title="record">repr_queen</span></a> {<span class="id" title="var">n</span> <span class="id" title="var">B</span>} {<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>} {<span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>} :=<br/>
&nbsp;&nbsp;{ <a name="line_val"><span class="id" title="projection">line_val</span></a>: <span class="id" title="definition">nat_of_ord</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a><span class="id" title="notation">|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="correct"><span class="id" title="projection">correct</span></a>: <a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="complete"><span class="id" title="projection">complete</span></a>: <a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="r_ld"><span class="id" title="projection">r_ld</span></a>: <a class="idref" href="queens.html#repr_ld"><span class="id" title="definition">repr_ld</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="r_rd"><span class="id" title="projection">r_rd</span></a>: <a class="idref" href="queens.html#repr_rd"><span class="id" title="definition">repr_rd</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="r_col"><span class="id" title="projection">r_col</span></a>: <a class="idref" href="queens.html#repr_col"><span class="id" title="definition">repr_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="r_full"><span class="id" title="projection">r_full</span></a>: <a class="idref" href="queens.html#repr_full"><span class="id" title="definition">repr_full</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="repr_poss"><span class="id" title="record">repr_poss</span></a> {<span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span> <span class="id" title="var">poss</span>} :=<br/>
&nbsp;&nbsp;{ <a name="poss_repr"><span class="id" title="projection">poss_repr</span></a>: <a class="idref" href="Bitset.repr_op.html#machine_repr"><span class="id" title="definition">machine_repr</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="poss_ld"><span class="id" title="projection">poss_ld</span></a>: <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">)</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="poss_rd"><span class="id" title="projection">poss_rd</span></a>: <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">)</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="poss_col"><span class="id" title="projection">poss_col</span></a>: <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a><span class="id" title="notation">)</span> }.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_full"><span class="id" title="lemma">size_full</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">]</span><span class="id" title="notation">|</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span>⇒ [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="var">ltn_n</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> 0<span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cards0</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;~&nbsp;n.+1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ltn'_n</span>: <span class="id" title="var">n</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span><span class="id" title="notation">.+1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><span class="id" title="definition">inord</span> <span class="id" title="var">n</span><span class="id" title="notation">)</span> <span class="id" title="notation">|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span> <span class="id" title="lemma">ltnS</span> <span class="id" title="lemma">leq_eqVlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">==</span> @<span class="id" title="definition">inord</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">.-1</span> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">nat_of_ord</span> <span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>: (<span class="id" title="definition">nat_of_ord</span> <span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">H</span> ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="lemma">inordK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Habs'</span>: <span class="id" title="definition">nat_of_ord</span> <span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="lemma">inordK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cardsU1</span> -<span class="id" title="var">IHn</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: (@<span class="id" title="definition">inord</span> (<span class="id" title="definition">wordsize</span><span class="id" title="notation">.-1</span>) <span class="id" title="var">n</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="lemma">inordK</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltnn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">add1n</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="from_correct"><span class="id" title="lemma">from_correct</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">cur</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">B</span>, <a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <a class="idref" href="queens.html#cur"><span class="id" title="variable">cur</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#cur"><span class="id" title="variable">cur</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>, <span class="id" title="notation">(</span><span class="id" title="notation">~~</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">==&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">cur</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">B</span> <span class="id" title="var">Hcorr</span> <span class="id" title="var">Hii'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcorr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hcorr</span>⇒ <span class="id" title="var">Hcorr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hcorr</span> <span class="id" title="var">i</span>)=&gt; /<span class="id" title="lemma">forallP</span> <span class="id" title="var">Hcorr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hcorr1</span> <span class="id" title="var">i'</span>)=&gt; <span class="id" title="var">Hcorr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hii'</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hcorr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hcorr2</span>⇒ [/<span class="id" title="lemma">andP</span> [<span class="id" title="var">HcorrA</span> <span class="id" title="var">HcorrB</span>] <span class="id" title="var">HcorrC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">HcorrA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">HcorrB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">j</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcorrC</span>⇒ <span class="id" title="var">HcorrC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HcorrC</span> <span class="id" title="var">j</span>)=&gt; /<span class="id" title="lemma">forallP</span> <span class="id" title="var">HcorrCj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: (<span class="id" title="var">HcorrCj</span> <span class="id" title="var">j'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="from_complete"><span class="id" title="lemma">from_complete</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">B</span>, <a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">k</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>), <a class="idref" href="queens.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">k'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#k'"><span class="id" title="variable">k'</span></a> <a class="idref" href="queens.html#k"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">Hcompl</span> <span class="id" title="var">k</span> <span class="id" title="var">ltn_k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcompl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hcompl</span>⇒ <span class="id" title="var">Hcompl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hcompl</span> <span class="id" title="var">k</span>)=&gt; <span class="id" title="var">Hcomplk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltn_k</span> <span class="id" title="lemma">implyTb</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcomplk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Hcomplk</span>⇒ [<span class="id" title="var">k'</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hk'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="from_included"><span class="id" title="lemma">from_included</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>, <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hjj'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hincl</span>⇒ <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hincl</span> <span class="id" title="var">j</span>)=&gt; /<span class="id" title="lemma">forallP</span> <span class="id" title="var">Hinclj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hinclj</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hincljj'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hincljj'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="from_possible"><span class="id" title="lemma">from_possible</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">B'</span> <span class="id" title="var">i'</span>, <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="queens.html#i'"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">B'</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hposs</span> <span class="id" title="var">i</span> <span class="id" title="var">Hii'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hposs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hposs</span>⇒ <span class="id" title="var">Hposs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hposs</span> <span class="id" title="var">i</span>)=&gt; <span class="id" title="var">Hpossi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hii'</span> <span class="id" title="lemma">implyTb</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpossi</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_correct"><span class="id" title="lemma">nextLine_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">poss</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">x</span> (<span class="id" title="var">ltn_ScurLine</span>: <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">.+1</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> (<span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>) <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">min</span> <span class="id" title="var">B'</span> <span class="id" title="var">HP</span> <span class="id" title="var">HB</span> <span class="id" title="var">Hx</span> <span class="id" title="var">ltn_x</span> <span class="id" title="var">HminP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hmincorr</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>, <span class="id" title="notation">~~</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">min</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">min</span> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">min</span> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">min</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span> <span class="id" title="notation">!=</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hjj'3</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsym1</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">min</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsym2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsym1</span> <span class="id" title="var">Hsym2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Horizontal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hmincol</span>: <span class="id" title="var">min</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">subsetP</span>: (<a class="idref" href="queens.html#poss_col"><span class="id" title="projection">poss_col</span></a> <span class="id" title="var">HP</span>)=&gt; <span class="id" title="var">HPcol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<span class="id" title="var">HPcol</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> !<span class="id" title="lemma">in_set</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmincol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hmincol</span>⇒ <span class="id" title="var">Hmincol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hj</span>: (<span class="id" title="var">min</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span>)=&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hmincol</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hj</span>⇒<span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hj</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'3</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Vertical&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hjj'3</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">Hltn</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span> <span class="id" title="var">Hltn</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;factorize&nbsp;(Ltac?)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;rd&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hminrd</span>: <span class="id" title="var">min</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">subsetP</span>: (<a class="idref" href="queens.html#poss_rd"><span class="id" title="projection">poss_rd</span></a> <span class="id" title="var">HP</span>)=&gt; <span class="id" title="var">HPrd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<span class="id" title="var">HPrd</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> !<span class="id" title="lemma">in_set</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminrd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hminrd</span>⇒ <span class="id" title="var">Hminrd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hminrd</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">Hminrd1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminrd1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hminrd1</span>⇒ <span class="id" title="var">Hminrd1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hminrd1</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hminrd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'3</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminrd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hminld</span>: <span class="id" title="var">min</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><span class="id" title="notation">~:</span> <a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">subsetP</span>: (<a class="idref" href="queens.html#poss_ld"><span class="id" title="projection">poss_ld</span></a> <span class="id" title="var">HP</span>)=&gt; <span class="id" title="var">HPld</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<span class="id" title="var">HPld</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> !<span class="id" title="lemma">in_set</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminld</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hminld</span>⇒ <span class="id" title="var">Hminld</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hminld</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">Hminld1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminld1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hminld1</span>⇒ <span class="id" title="var">Hminld1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hminld1</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hminld2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'3</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hminld2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hmin</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(a&nbsp;==&nbsp;min)&nbsp;&amp;&amp;&nbsp;(b&nbsp;==&nbsp;curLine)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hmin</span>⇒ [/<span class="id" title="lemma">eqP</span> <span class="id" title="var">Ha</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">Ha</span> !<span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="lemma">arg_minP</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">i</span> <span class="id" title="var">iP</span> <span class="id" title="var">le_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">le_i</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>)=&gt; <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hjj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<span class="id" title="var">Hmincorr</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">Hjj'</span> <span class="id" title="var">Hjj'2</span>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(a&nbsp;&lt;&gt;&nbsp;min)&nbsp;||&nbsp;(b&nbsp;&lt;&gt;&nbsp;curLine)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hab'</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hmin</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hab'</span>)=&gt; [<span class="id" title="var">ltn_a</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hab'</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">ltn_b</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">curLine</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hjj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hmin'</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;(j&nbsp;==&nbsp;min)&nbsp;&amp;&amp;&nbsp;(j'&nbsp;==&nbsp;curLine)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hmin'</span>⇒ [/<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hmincorr</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">min</span> <span class="id" title="notation">==</span> <span class="id" title="var">a</span>]<span class="id" title="lemma">eq_sym</span> [<span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">b</span>]<span class="id" title="lemma">eq_sym</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">min</span> <span class="id" title="notation">+</span> <span class="id" title="var">b</span> <span class="id" title="notation">==</span> <span class="id" title="var">a</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span>]<span class="id" title="lemma">eq_sym</span> [<span class="id" title="var">a</span> <span class="id" title="notation">+</span> <span class="id" title="var">b</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span>]<span class="id" title="lemma">eq_sym</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hmin</span> /= <span class="id" title="var">Hab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Hcorr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">Hcorr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;j&nbsp;&lt;&gt;&nbsp;min&nbsp;||&nbsp;j'&nbsp;&lt;&gt;&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hjj'3</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hmin'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hab'</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcorr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hcorr</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hcorr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'</span> <span class="id" title="var">Hjj'3</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hcorr1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_complete"><span class="id" title="lemma">nextLine_complete</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">min</span>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">.+1</span> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">B'</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">ltn_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hj</span>: (<span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;==&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hj</span> <span class="id" title="lemma">eq_refl</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;&lt;&gt;&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hj'</span>: <span class="id" title="var">j</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltn_neqAle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span> -(<span class="id" title="lemma">leq_add2r</span> 1) !<span class="id" title="lemma">addn1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_complete"><span class="id" title="lemma">from_complete</span></a> <span class="id" title="var">curLine</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#complete"><span class="id" title="projection">complete</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">j</span> <span class="id" title="var">Hj'</span>)=&gt; [<span class="id" title="var">k'</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hk'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hj</span> <span class="id" title="lemma">andbF</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_P"><span class="id" title="lemma">nextLine_P</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">poss</span> (<span class="id" title="var">x</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P'</span> := <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">:\</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> (<span class="id" title="axiom">neg</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">poss'</span> := <span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> (<span class="id" title="axiom">lnot</span> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P'"><span class="id" title="variable">P'</span></a> <a class="idref" href="queens.html#poss'"><span class="id" title="variable">poss'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">min</span> <span class="id" title="var">P'</span> <span class="id" title="var">bit</span> <span class="id" title="var">poss'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">subset_trans</span> (<span class="id" title="var">B</span> := <span class="id" title="abbreviation">pred_of_set</span> <span class="id" title="var">P</span>))=&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subD1set</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>])=&gt; //.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;P'&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P'</span> <span class="id" title="lemma">setDE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#compl_repr"><span class="id" title="lemma">compl_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_ld"><span class="id" title="lemma">nextLine_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">x</span> (<span class="id" title="var">ltn_ScurLine</span>: <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">.+1</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> (<span class="id" title="axiom">neg</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ld'</span> := <span class="id" title="axiom">lsr</span> (<span class="id" title="axiom">lor</span> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>) <span class="id" title="axiom">one</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> (<span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>) <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#repr_ld"><span class="id" title="definition">repr_ld</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> (<span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>) <a class="idref" href="queens.html#ld'"><span class="id" title="variable">ld'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">bit</span> <span class="id" title="var">min</span> <span class="id" title="var">B'</span> <span class="id" title="var">ld'</span> <span class="id" title="var">ltn_n</span> <span class="id" title="var">Hx</span> <span class="id" title="var">HB</span> <span class="id" title="var">HP</span> <span class="id" title="var">HB'cor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_ld"><span class="id" title="definition">repr_ld</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">ltn_ScurLine</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">.-1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="definition">inord</span> <span class="id" title="var">i</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Habs</span>: <span class="id" title="var">i</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">≥</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">leq_n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_and</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hjj'</span>: (<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span>]<span class="id" title="lemma">add1n</span> <span class="id" title="lemma">addnA</span> <span class="id" title="lemma">addn1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">ltn_ScurLine</span>) <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">B'</span> <span class="id" title="var">HB'cor</span> <span class="id" title="var">Hjj'</span>)=&gt; [<span class="id" title="var">Hj</span> [<span class="id" title="var">Hj'</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leq_add2l</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltn_add2r</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leq_add2r</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">ltn'_i</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span> <span class="id" title="notation">.-1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&nbsp;wordsize&nbsp;.-1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">inordK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">add1n</span> <span class="id" title="lemma">addnA</span> <span class="id" title="lemma">addn1</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">i</span><span class="id" title="notation">.+1</span>]<span class="id" title="lemma">addn1</span> -[32]<span class="id" title="lemma">addn1</span> <span class="id" title="lemma">ltn_add2r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ltn'_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&gt;=&nbsp;wordsize&nbsp;.-1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hi</span>: <span class="id" title="var">i</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">≥</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="definition">wordsize</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leq_eqVlt</span> <span class="id" title="var">ltn_n</span> <span class="id" title="lemma">orbT</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">leq_add2r</span> 1) !<span class="id" title="lemma">addn1</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">ltn'_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leqNgt</span> <span class="id" title="var">ltn'_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Habs</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#sr_repr"><span class="id" title="lemma">sr_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setU</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> !<span class="id" title="lemma">eq_refl</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hi</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HcurLine0</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">HcurLine0</span>⇒ [<span class="id" title="var">j</span> /<span class="id" title="lemma">existsP</span> [<span class="id" title="var">j'</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hjj'1</span> <span class="id" title="lemma">if_same</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcurLine0</span>⇒ <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HcurLine0</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcurLine1</span>⇒ <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HcurLine1</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">HcurLine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hjj'</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;=&nbsp;min&nbsp;&amp;&nbsp;j'&nbsp;=&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hjj'</span>⇒ [/<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hj'</span> <span class="id" title="lemma">eqn_add2r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;&lt;&gt;&nbsp;min&nbsp;||&nbsp;j'&nbsp;&lt;&gt;&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_rd"><span class="id" title="lemma">nextLine_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">x</span> (<span class="id" title="var">ltn_ScurLine</span>: <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">.+1</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> (<span class="id" title="axiom">neg</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rd'</span> := <span class="id" title="axiom">lsl</span> (<span class="id" title="axiom">lor</span> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a>) <span class="id" title="axiom">one</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> (<span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>) <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#repr_rd"><span class="id" title="definition">repr_rd</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> (<span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>) <a class="idref" href="queens.html#rd'"><span class="id" title="variable">rd'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">bit</span> <span class="id" title="var">min</span> <span class="id" title="var">B'</span> <span class="id" title="var">rd'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">HB</span> <span class="id" title="var">HP</span> <span class="id" title="var">HB'cor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_rd"><span class="id" title="definition">repr_rd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">ltn_ScurLine</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="definition">inord</span> <span class="id" title="var">i</span><span class="id" title="notation">.-1</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">&gt;</span> 0)=&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">inordK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Heq</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><span class="id" title="notation">.-1</span> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <a class="idref" href="queens.html#j'"><span class="id" title="variable">j'</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#j"><span class="id" title="variable">j</span></a> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">j</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">eqn_add2r</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">addnC</span> <span class="id" title="lemma">addnA</span> -<span class="id" title="lemma">subn1</span> <span class="id" title="lemma">subnKC</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">addnA</span> <span class="id" title="lemma">addn1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hex</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Hex</span>⇒ [<span class="id" title="var">j</span> /<span class="id" title="lemma">existsP</span> [<span class="id" title="var">j'</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Heq</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span> ⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Heq</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hex</span>⇒ <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hex</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">Hexj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hexj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hexj</span>⇒ <span class="id" title="var">Hexj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hexj</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hexjj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">prednK</span> // ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ltn_ord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_and</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hjj'</span>: (<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>)=&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">orP</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">ord0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">eqn0Ngt</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hi</span>⇒ <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ord_inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="definition">ord0</span> (<span class="id" title="var">n'</span> := <span class="id" title="definition">wordsize</span><span class="id" title="notation">.-1</span>) <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">j'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltn_addl</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">ltn_ScurLine</span>) <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">B'</span> <span class="id" title="var">HB'cor</span> <span class="id" title="var">Hjj'</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">Hj'</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#sl_repr"><span class="id" title="lemma">sl_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setU</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">min</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hi</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HcurLine0</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <span class="id" title="notation">+</span> <span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span> <span class="id" title="notation">+</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">HcurLine0</span>⇒ [<span class="id" title="var">j</span> /<span class="id" title="lemma">existsP</span> [<span class="id" title="var">j'</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hjj'1</span> <span class="id" title="lemma">if_same</span> <span class="id" title="var">Hjj'2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcurLine0</span>⇒ <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HcurLine0</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcurLine1</span>⇒ <span class="id" title="var">HcurLine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HcurLine1</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">HcurLine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hjj'</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">j'</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;=&nbsp;min&nbsp;&amp;&nbsp;j'&nbsp;=&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hjj'</span>⇒ [/<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hj'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hj'</span> <span class="id" title="lemma">eqn_add2r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;j&nbsp;&lt;&gt;&nbsp;min&nbsp;||&nbsp;j'&nbsp;&lt;&gt;&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_col"><span class="id" title="lemma">nextLine_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) (<span class="id" title="var">x</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">bit</span> := <span class="id" title="axiom">land</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> (<span class="id" title="axiom">neg</span> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">col'</span> := <span class="id" title="axiom">lor</span> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#bit"><span class="id" title="variable">bit</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#repr_col"><span class="id" title="definition">repr_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="queens.html#col'"><span class="id" title="variable">col'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">bit</span> <span class="id" title="var">min</span> <span class="id" title="var">B'</span> <span class="id" title="var">col'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">HB</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_col"><span class="id" title="definition">repr_col</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setU</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hi</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">have</span> -&gt;: <span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> {1}/<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hi</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HcurLine0</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">curLine0</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine0</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">curLine0</span>,</span> <span class="inlinecode"><span class="id" title="var">get_coord</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">curLine0</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">HcurLine0</span>⇒ [<span class="id" title="var">y</span> <span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;~~&nbsp;<span class="inlinecode"><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">curLine0</span>,</span> <span class="inlinecode"><span class="id" title="var">get_coord</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">curLine0</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HcurLine0</span>⇒<span class="id" title="var">HcurLine0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">HcurLine0</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#keep_min_repr"><span class="id" title="lemma">keep_min_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_numCol"><span class="id" title="lemma">nextLine_numCol</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">min</span> (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>) <span class="id" title="var">poss</span> (<span class="id" title="var">ltn_ScurLine</span>: <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">.+1</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>) (<span class="id" title="var">HminP</span>: <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">#|</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Ordinal</span> <a class="idref" href="queens.html#ltn_ScurLine"><span class="id" title="variable">ltn_ScurLine</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">B'</span> <span class="id" title="var">HB</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="lemma">in_setU</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hi</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hex</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">curLine0</span><span class="id" title="notation">,</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine0</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;exists&nbsp;curLine0,&nbsp;get_coord&nbsp;n&nbsp;B&nbsp;i&nbsp;curLine0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Hex</span>⇒ [<span class="id" title="var">y</span> <span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hi</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;~&nbsp;exists&nbsp;curLine0,&nbsp;get_coord&nbsp;n&nbsp;B&nbsp;i&nbsp;curLine0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hex</span>⇒ <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hi</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hex</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cardsU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setI</span> <span class="id" title="lemma">in_set1</span> <span class="id" title="lemma">in_set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<span class="id" title="var">i</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hi</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">in_setC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">subsetP</span>: (<a class="idref" href="queens.html#poss_col"><span class="id" title="projection">poss_col</span></a> <span class="id" title="var">HP</span>)=&gt; <span class="id" title="var">HPcol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">HPcol</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;i&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cards0</span> <span class="id" title="lemma">subn0</span> -(<a class="idref" href="queens.html#line_val"><span class="id" title="projection">line_val</span></a> <span class="id" title="var">HB</span>) <span class="id" title="lemma">cards1</span> <span class="id" title="lemma">addn1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_splitCase"><span class="id" title="lemma">nextLine_splitCase</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span> <span class="id" title="var">min</span>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P'</span> := <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">:\</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">setA</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'0</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'0</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#P'"><span class="id" title="variable">P'</span></a> <span class="id" title="var">B'0</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">setB</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'0</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B'"><span class="id" title="variable">B'</span></a> <span class="id" title="var">B'0</span><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">setC</span> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'0</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'0</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">B'0</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">]</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#min"><span class="id" title="variable">min</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#setC"><span class="id" title="variable">setC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#setA"><span class="id" title="variable">setA</span></a> <span class="id" title="notation">:|:</span> <a class="idref" href="queens.html#setB"><span class="id" title="variable">setB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="queens.html#setA"><span class="id" title="variable">setA</span></a> <span class="id" title="notation">:&amp;:</span> <a class="idref" href="queens.html#setB"><span class="id" title="variable">setB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">P'</span> <span class="id" title="var">B'</span> <span class="id" title="var">setA</span> <span class="id" title="var">setB</span> <span class="id" title="var">setC</span> <span class="id" title="var">HminP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setU</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Bool.Bool.html#andb_orb_distrib_r"><span class="id" title="lemma">Bool.andb_orb_distrib_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hicorr</span>: (<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andb_idl</span> // ⇒ <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hjj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Hi</span>⇒<span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hi</span> <span class="id" title="var">j</span>)=&gt; /<span class="id" title="lemma">forallP</span> <span class="id" title="var">Hij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hij</span> <span class="id" title="var">j'</span>)=&gt; /<span class="id" title="lemma">implyP</span> <span class="id" title="var">Hijj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hjj'1</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hjj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'</span> <span class="id" title="lemma">if_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hijj'</span> <span class="id" title="var">Hjj'1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Bool.Bool.html#andb_orb_distrib_r"><span class="id" title="lemma">Bool.andb_orb_distrib_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HBi</span>: (<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span>)=&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HiP</span>: (<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;board_possible&nbsp;n&nbsp;P&nbsp;i&nbsp;curLine&nbsp;=&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HiP'</span>: (<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span>)=&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">HinB'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hmin</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x0</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y0</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;x0&nbsp;==&nbsp;min&nbsp;&amp;&amp;&nbsp;y0&nbsp;==&nbsp;curLine&nbsp;is&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">HiP'</span>=&gt;[<span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_imply</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hx'</span>=&gt;[<span class="id" title="var">Hx1</span> <span class="id" title="var">Hx2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_possible"><span class="id" title="lemma">from_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <span class="id" title="var">HiP</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx1</span>)=&gt; <span class="id" title="var">HxP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hx'</span>: <span class="id" title="var">x'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">in_set1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">min</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">P</span> <span class="id" title="notation">:\:</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setDDr</span> <span class="id" title="lemma">setDv</span> <span class="id" title="lemma">set0U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setIidPr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">sub1set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setD</span> <span class="id" title="var">Hx2</span> <span class="id" title="var">HxP</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hmin</span>=&gt;[/<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hmin1</span> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hmin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmin1</span> <span class="id" title="var">Hmin2</span> -<span class="id" title="var">Hx'</span> <span class="id" title="var">Hx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;x0&nbsp;==&nbsp;min&nbsp;&amp;&amp;&nbsp;y0&nbsp;==&nbsp;curLine&nbsp;is&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> <span class="id" title="var">Hmin</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HinB'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span> <span class="id" title="var">HBi</span> <span class="id" title="var">HinB'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;board_possible&nbsp;n&nbsp;P&nbsp;i&nbsp;curLine&nbsp;=&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HiP'</span>: (<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;board_possible&nbsp;n&nbsp;P'&nbsp;i&nbsp;curLine&nbsp;=&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">orbC</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>: <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_possible"><span class="id" title="lemma">from_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <span class="id" title="var">HiP'</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>)=&gt; <span class="id" title="var">Hy'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setD</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hy'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hy'</span>⇒ /<span class="id" title="lemma">andP</span> [<span class="id" title="var">_</span> <span class="id" title="var">HyP</span>] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HiP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;board_possible&nbsp;n&nbsp;P'&nbsp;i&nbsp;curLine&nbsp;=&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>: <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>/<span class="id" title="lemma">forallP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_imply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> /<span class="id" title="var">B'</span> !<span class="id" title="lemma">tnth_mktuple</span> !<span class="id" title="lemma">eq_refl</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HiP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">HiP</span>⇒ /<span class="id" title="lemma">forallP</span> <span class="id" title="var">HiP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_forall</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HiP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">HiP</span>⇒ [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_imply</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hj</span>⇒ /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">HjP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Habs</span>: (<span class="id" title="var">j</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;j&nbsp;==&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Habs</span>⇒<span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HjP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HminP</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HjP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;j&nbsp;&lt;&gt;&nbsp;min&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">j</span> <span class="id" title="var">curLine</span> <span class="id" title="var">i</span> <span class="id" title="var">Hicorr</span> <span class="id" title="var">Hj</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hicorr'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hicorr'</span> <span class="id" title="var">min</span> <span class="id" title="var">curLine</span>)=&gt; <span class="id" title="var">Hicorr''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmin</span> <span class="id" title="lemma">implyTb</span> <span class="id" title="var">Habs</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hicorr''</span>⇒ /<span class="id" title="lemma">andP</span> [/<span class="id" title="lemma">andP</span> [<span class="id" title="var">Habs'</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbF</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;setA&nbsp;:&amp;:&nbsp;setB&nbsp;=&nbsp;set0&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setI</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hinc</span>: (<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span>) <span class="id" title="var">setB</span>⇒ <span class="id" title="var">setB</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;B'&nbsp;included&nbsp;in&nbsp;i&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hpos</span>: (<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;(x,&nbsp;curLine)&nbsp;in&nbsp;i&nbsp;=&gt;&nbsp;x&nbsp;in&nbsp;P'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hmin</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">min</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">i</span> <span class="id" title="var">min</span> <span class="id" title="var">curLine</span> <span class="id" title="var">Hinc</span>)=&gt; <span class="id" title="var">Hinc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hmin</span>: <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B'</span> <span class="id" title="var">min</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">B'</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span> !<span class="id" title="lemma">eq_refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<span class="id" title="var">Hinc'</span> <span class="id" title="var">Hmin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_possible"><span class="id" title="lemma">from_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P'</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <span class="id" title="var">Hpos</span> <span class="id" title="var">min</span> <span class="id" title="var">Hmin</span>)=&gt; <span class="id" title="var">Hpos'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setD</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpos'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hpos'</span>⇒ [<span class="id" title="var">Habs</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;board_possible&nbsp;n&nbsp;P'&nbsp;i&nbsp;curLine&nbsp;=&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbF</span> <span class="id" title="lemma">andbF</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;B'&nbsp;not&nbsp;included&nbsp;in&nbsp;i&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">andbF</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_end"><span class="id" title="lemma">nextLine_end</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> (<span class="id" title="var">HcurLine2</span>: <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a>):<br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;1 <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span><span class="id" title="notation">|</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">B'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HB'</span>: (<span class="id" title="var">B'</span> <span class="id" title="notation">==</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;B'&nbsp;=&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">HB'</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HcurLine2</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">HcurLine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">implybb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;B'&nbsp;&lt;&gt;&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H'</span>⇒ /<span class="id" title="lemma">andP</span> [/<span class="id" title="lemma">andP</span>[<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] <span class="id" title="var">H3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Habs</span>: <span class="id" title="var">B'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_from_tnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">eqfun</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_from_tnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">eqfun</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hxy</span>: (<span class="id" title="definition">tnth</span> (<span class="id" title="definition">tnth</span> <span class="id" title="var">B</span> <span class="id" title="var">x</span>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;tnth&nbsp;(tnth&nbsp;B&nbsp;x)&nbsp;y&nbsp;=&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H3</span> <span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;tnth&nbsp;(tnth&nbsp;B&nbsp;x)&nbsp;y&nbsp;=&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hy</span>: (<span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">curLine</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;y&nbsp;&lt;&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_complete"><span class="id" title="lemma">from_complete</span></a> <span class="id" title="var">curLine</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#complete"><span class="id" title="projection">complete</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>)=&gt; [<span class="id" title="var">k'</span> <span class="id" title="var">Hk'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HcurLine2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">k'</span> <span class="id" title="var">y</span> <span class="id" title="var">H3</span> <span class="id" title="var">Hk'</span>)=&gt; <span class="id" title="var">Hk'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">k'</span> <span class="id" title="var">y</span> <span class="id" title="var">B'</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hk'1</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcorr'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hcorr'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)=&gt; <span class="id" title="var">Hcorr''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span> /= <span class="id" title="lemma">andbT</span> <span class="id" title="lemma">andbF</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcorr''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hk'x</span>: (<span class="id" title="var">k'</span> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;k'&nbsp;!=&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk'x</span> <span class="id" title="lemma">implybF</span> <span class="id" title="lemma">implyTb</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcorr''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;k'&nbsp;==&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hk'x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">negPn</span>: <span class="id" title="var">Hk'x</span>⇒ /<span class="id" title="lemma">eqP</span> <span class="id" title="var">Hk'x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk'x</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">Hxy</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;y&nbsp;&gt;=&nbsp;curLine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">Hxy'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">B'</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hxy'</span>)=&gt; <span class="id" title="var">H2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}<span class="id" title="var">HcurLine2</span> <span class="id" title="var">Hy</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">H2'</span>⇒ [<span class="id" title="var">_</span> [<span class="id" title="var">Habs</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HB'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">HB'</span>⇒<span class="id" title="var">HB'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cards1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nextLine_oneCase"><span class="id" title="lemma">nextLine_oneCase</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P</span> := (<span class="id" title="notation">~:</span> <span class="id" title="notation">(</span><span class="id" title="notation">((</span><a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">))</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">B'</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">P</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hi</span>: (<a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;is_complete&nbsp;n&nbsp;i&nbsp;&amp;&amp;&nbsp;is_correct&nbsp;n&nbsp;n&nbsp;i&nbsp;&amp;&amp;&nbsp;board_included&nbsp;n&nbsp;B&nbsp;i&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span>: <span class="id" title="var">Hi</span>⇒ [/<span class="id" title="lemma">andP</span>[<span class="id" title="var">Hicompl</span> <span class="id" title="var">Hicorr</span>] <span class="id" title="var">HBi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ <span class="id" title="var">HxcurLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_setC</span> !<span class="id" title="lemma">in_setU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">negb_or</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="lemma">in_set</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Habs</span>⇒ [<span class="id" title="var">j</span> /<span class="id" title="lemma">existsP</span> [<span class="id" title="var">j'</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">curLine</span> <span class="id" title="var">i</span> <span class="id" title="var">Hicorr</span> <span class="id" title="var">HxcurLine</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hicorr2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hicorr2</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hjj'1</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">Hj'</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hj'2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span> <span class="id" title="var">Hj'</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">HBi</span> <span class="id" title="var">Hjj'1</span>)=&gt; <span class="id" title="var">HjB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj'2</span> <span class="id" title="lemma">andbF</span> /= <span class="id" title="var">HjB</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'2</span> /= <span class="id" title="lemma">andbF</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="lemma">in_set</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Habs</span>⇒ [<span class="id" title="var">j</span> /<span class="id" title="lemma">existsP</span> [<span class="id" title="var">j'</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">Hjj'1</span> <span class="id" title="var">Hjj'2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">curLine</span> <span class="id" title="var">i</span> <span class="id" title="var">Hicorr</span> <span class="id" title="var">HxcurLine</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hicorr2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hicorr2</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span>)=&gt; <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hjj'1</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">Hj'</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hj'2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">j'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span> <span class="id" title="var">Hj'</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">HBi</span> <span class="id" title="var">Hjj'1</span>)=&gt; <span class="id" title="var">HjB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj'2</span> <span class="id" title="lemma">andbF</span> /= <span class="id" title="var">HjB</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjj'2</span> /= <span class="id" title="lemma">andbF</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">negP</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="lemma">in_set</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Habs</span>⇒ [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">curLine</span> <span class="id" title="var">i</span> <span class="id" title="var">Hicorr</span> <span class="id" title="var">HxcurLine</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hicorr2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hicorr2</span> <span class="id" title="var">x</span> <span class="id" title="var">j</span>)=&gt; <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">x</span> <span class="id" title="var">j</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hj</span>)=&gt; [<span class="id" title="var">_</span> [<span class="id" title="var">Hj2</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span> /= (<a class="idref" href="queens.html#from_included"><span class="id" title="lemma">from_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">j</span> <span class="id" title="var">HBi</span> <span class="id" title="var">Hj</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hj2'</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">curLine</span> <span class="id" title="notation">==</span> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">neq_ltn</span> <span class="id" title="var">Hj2</span> <span class="id" title="lemma">orbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj2'</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">Hicorr2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;~~&nbsp;(is_complete&nbsp;n&nbsp;i&nbsp;&amp;&amp;&nbsp;is_correct&nbsp;n&nbsp;n&nbsp;i&nbsp;&amp;&amp;&nbsp;board_included&nbsp;n&nbsp;B&nbsp;i&nbsp;)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="queens_correctInd"><span class="id" title="lemma">queens_correctInd</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">pos</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="queens.html#Hinv"><span class="id" title="projection">Hinv</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> (<span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">B'</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">]</span><span class="id" title="notation">|</span> <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> (<a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>)<span class="id" title="notation">)</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#mode"><span class="id" title="projection">mode</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> (<a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) (<a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="queens.html#Hinv"><span class="id" title="projection">Hinv</span></a> <a class="idref" href="queens.html#pos"><span class="id" title="variable">pos</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span><span class="id" title="notation">|</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">gtz_n</span> <span class="id" title="var">ltn_n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <a class="idref" href="queens.html#nqueens_wf"><span class="id" title="lemma">nqueens_wf</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">st</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">ld</span> := <a class="idref" href="queens.html#ld"><span class="id" title="projection">ld</span></a> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">col</span> := <a class="idref" href="queens.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rd</span> := <a class="idref" href="queens.html#rd"><span class="id" title="projection">rd</span></a> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">full</span> := <a class="idref" href="queens.html#full"><span class="id" title="projection">full</span></a> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">poss</span> := <a class="idref" href="queens.html#poss"><span class="id" title="projection">poss</span></a> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">curCount</span> := <a class="idref" href="queens.html#curCount"><span class="id" title="projection">curCount</span></a> <span class="id" title="var">st</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;part&nbsp;can&nbsp;probably&nbsp;be&nbsp;simplified/erased&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">IH1</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">ld</span> <span class="id" title="var">col</span> <span class="id" title="var">rd</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> <span class="id" title="var">curCount</span> <span class="id" title="var">mode</span> <span class="id" title="var">Hinv</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a> <a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="queens.html#Hinv"><span class="id" title="variable">Hinv</span></a>) <span class="id" title="var">st</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) (<span class="id" title="var">P</span>: <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">}</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_poss"><span class="id" title="record">repr_poss</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a> <a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="queens.html#Hinv"><span class="id" title="variable">Hinv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> (<span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">B'</span> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a><span class="id" title="notation">]</span><span class="id" title="notation">|</span> <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> <a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">ld0</span> <span class="id" title="var">col0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">full0</span> <span class="id" title="var">poss0</span> <span class="id" title="var">curCount0</span> <span class="id" title="var">mode0</span> <span class="id" title="var">Hinv0</span> <span class="id" title="var">Hord</span> <span class="id" title="var">B0</span> <span class="id" title="var">curLine0</span> <span class="id" title="var">P0</span> <span class="id" title="var">Hmode0</span> <span class="id" title="var">HcurLine</span> <span class="id" title="var">Hqueen0</span> <span class="id" title="var">Hposs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmode0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmode0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IH</span> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <span class="id" title="var">ld0</span> <span class="id" title="var">col0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">full0</span> <span class="id" title="var">poss0</span> <span class="id" title="var">curCount0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">Hinv0</span>))=&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">IH2</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">ld</span> <span class="id" title="var">col</span> <span class="id" title="var">rd</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> <span class="id" title="var">curCount</span> <span class="id" title="var">mode</span> <span class="id" title="var">Hinv</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a> <a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="queens.html#Hinv"><span class="id" title="variable">Hinv</span></a>) <span class="id" title="var">st</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="queens.html#poss"><span class="id" title="variable">poss</span></a> <a class="idref" href="queens.html#curCount"><span class="id" title="variable">curCount</span></a> <a class="idref" href="queens.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="queens.html#Hinv"><span class="id" title="variable">Hinv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">ld0</span> <span class="id" title="var">col0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">full0</span> <span class="id" title="var">poss0</span> <span class="id" title="var">curCount0</span> <span class="id" title="var">mode0</span> <span class="id" title="var">Hinv0</span> <span class="id" title="var">Hord</span> <span class="id" title="var">B0</span> <span class="id" title="var">curLine0</span> <span class="id" title="var">Hmode0</span> <span class="id" title="var">Hposs0</span> <span class="id" title="var">HcurCount0</span> <span class="id" title="var">HB0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmode0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">IH</span> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <span class="id" title="var">ld0</span> <span class="id" title="var">col0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">full0</span> <span class="id" title="var">poss0</span> <span class="id" title="var">curCount0</span> <span class="id" title="var">mode0</span> <span class="id" title="var">Hinv0</span>) <span class="id" title="var">Hord</span>)=&gt; [<span class="id" title="var">_</span> <span class="id" title="var">IH2'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="keyword">in</span> <span class="id" title="var">IH2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IH2'</span> <span class="id" title="var">B0</span> <span class="id" title="var">curLine0</span>)=&gt; //.<br/>
&nbsp;&nbsp;<span class="comment">(****************************************************)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span> <span class="id" title="var">Hmode</span> <span class="id" title="var">ltn_curLine</span> <span class="id" title="var">Hqueen</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#Fix_eq"><span class="id" title="lemma">Fix_eq</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hend</span>: (<span class="id" title="axiom">eq</span> (<span class="id" title="axiom">land</span> <span class="id" title="var">poss</span> <span class="id" title="var">full</span>) <span class="id" title="axiom">zero</span>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(poss&nbsp;&amp;&nbsp;full)&nbsp;==&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span> <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hend</span>⇒ <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H1</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>, <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">≥</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">ltn_x</span>: (<span class="id" title="var">n</span> <span class="id" title="notation">≤</span> <span class="id" title="var">x</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">ltn_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">ltnNge</span> <span class="id" title="keyword">in</span> <span class="id" title="var">ltn_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="var">Hx</span> <span class="id" title="var">ltn_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hend</span> <span class="id" title="lemma">in_set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">B'</span> <span class="id" title="var">curLine</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">B0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="lemma">in_set0</span> /<a class="idref" href="queens.html#board_possible"><span class="id" title="definition">board_possible</span></a> /<a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [/<span class="id" title="lemma">andP</span>[<span class="id" title="var">Hcompl</span> <span class="id" title="var">Hcor</span>] /<span class="id" title="lemma">andP</span>[<span class="id" title="var">_</span> <span class="id" title="var">Hposs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_complete"><span class="id" title="lemma">from_complete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcompl</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ltn_curLine</span>)=&gt; [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_possible"><span class="id" title="lemma">from_possible</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hposs</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>)=&gt; <span class="id" title="var">Hpossi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">H1</span> <span class="id" title="var">i</span> <span class="id" title="var">Hpossi</span>)=&gt; <span class="id" title="var">Habsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">curLine</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcor</span> <span class="id" title="var">Hi</span>)=&gt; [<span class="id" title="var">Habs2</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltnNge</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habsi</span> // <span class="id" title="keyword">in</span> <span class="id" title="var">Habs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cards0</span> <span class="id" title="lemma">add0n</span> <a class="idref" href="queens.html#fromInt_elim"><span class="id" title="lemma">fromInt_elim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setIdE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hqueen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(poss&nbsp;&amp;&nbsp;full)&nbsp;!=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hend'</span>: <span class="id" title="axiom">eq</span> (<span class="id" title="axiom">land</span> <span class="id" title="var">poss</span> <span class="id" title="var">full</span>) <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span> <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hend</span>⇒ <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">bit</span> := (<span class="id" title="axiom">land</span> <span class="id" title="var">poss</span> (<span class="id" title="axiom">neg</span> <span class="id" title="var">poss</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Habs</span>: <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">forallP</span>: <span class="id" title="var">Habs</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Habs'</span>: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="lemma">in_set0</span> <span class="id" title="lemma">andbC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Habs</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Habs'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>⇒ [<span class="id" title="var">x</span> /<span class="id" title="lemma">andP</span> [<span class="id" title="var">ltn_x</span> <span class="id" title="var">Hx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">min</span> := <span class="id" title="notation">[</span><span class="id" title="notation">arg</span> <span class="id" title="notation">min_</span><span class="id" title="notation">(</span><span class="id" title="var">k</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">x</span> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span><span class="id" title="notation">)</span> <span class="id" title="var">k</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">HminP</span>: <span class="id" title="var">min</span> <span class="id" title="notation">\</span><span class="id" title="keyword">in</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">min</span> /<span class="id" title="definition">arg_min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="lemma">pickP</span>⇒ <span class="id" title="var">y</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">andP</span> ⇒ [<span class="id" title="var">H1</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">ld'</span> := (<span class="id" title="axiom">lsr</span> (<span class="id" title="axiom">lor</span> <span class="id" title="var">ld</span> <span class="id" title="var">bit</span>) <span class="id" title="axiom">one</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">col'</span> := (<span class="id" title="axiom">lor</span> <span class="id" title="var">col</span> <span class="id" title="var">bit</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rd'</span> := (<span class="id" title="axiom">lsl</span> (<span class="id" title="axiom">lor</span> <span class="id" title="var">rd</span> <span class="id" title="var">bit</span>) <span class="id" title="axiom">one</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">B'</span> := <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">[</span><span class="id" title="notation">tuple</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">==</span> <span class="id" title="var">min</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <span class="id" title="notation">==</span> <span class="id" title="var">curLine</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">poss'</span> := (<span class="id" title="axiom">land</span> <span class="id" title="var">poss</span> (<span class="id" title="axiom">lnot</span> <span class="id" title="var">bit</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">P'</span> := <span class="id" title="var">P</span> <span class="id" title="notation">:\</span> <span class="id" title="var">min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ltn_ScurLine</span>: <span class="id" title="var">curLine</span><span class="id" title="notation">.+1</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_ltn_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#nextLine_correct"><span class="id" title="lemma">nextLine_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span> <span class="id" title="var">poss</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">x</span> <span class="id" title="var">ltn_ScurLine</span> <span class="id" title="var">HP</span> <span class="id" title="var">Hqueen</span> <span class="id" title="var">Hx</span> <span class="id" title="var">ltn_x</span> <span class="id" title="var">HminP</span>)=&gt; <span class="id" title="var">HB'cor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH2</span> <span class="id" title="var">ld'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B'</span> (<span class="id" title="constructor">Ordinal</span> <span class="id" title="var">ltn_ScurLine</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P'</span>)=&gt; //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="queens.html#ladd_repr"><span class="id" title="lemma">ladd_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="queens.html#fromInt_elim"><span class="id" title="lemma">fromInt_elim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}[<span class="id" title="var">curCount</span>]<a class="idref" href="queens.html#fromInt_elim"><span class="id" title="lemma">fromInt_elim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="queens.html#ladd_repr"><span class="id" title="lemma">ladd_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="notation">(</span><a class="idref" href="Bitset.repr_op.html#fromInt"><span class="id" title="axiom">fromInt</span></a> <span class="id" title="var">curCount</span><span class="id" title="notation">)</span> <span class="id" title="notation">+</span> <span class="id" title="var">_</span>]<span class="id" title="lemma">addnC</span> <span class="id" title="lemma">addnA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#nextLine_splitCase"><span class="id" title="lemma">nextLine_splitCase</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span> <span class="id" title="var">min</span> <span class="id" title="var">HminP</span>)=&gt; [<span class="id" title="var">Hu</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hu</span> <span class="id" title="lemma">cardsU</span> <span class="id" title="var">Hi</span> <span class="id" title="lemma">cards0</span> <span class="id" title="lemma">subn0</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> <span class="id" title="var">Hmode</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">ltP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#cardinal_2"><span class="id" title="lemma">cardinal_2</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hend'</span> ⇒ <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">poss</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">full</span>)=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">F</span>) <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set0I</span> <span class="id" title="lemma">eq_refl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Habs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#nextLine_P"><span class="id" title="lemma">nextLine_P</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> <span class="id" title="var">Hmode</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#left_lex"><span class="id" title="constructor">left_lex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">ltP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">ltn_sub2l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Bitset.repr_op.html#fromInt_def"><span class="id" title="axiom">fromInt_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">toNatBounded</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="queens.html#cardinal_1"><span class="id" title="lemma">cardinal_1</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<span class="id" title="axiom">neg</span> <span class="id" title="var">poss</span>))=&gt; [<span class="id" title="var">N</span> <span class="id" title="var">HN</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">col</span>)=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">full</span>)=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Habs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">poss</span> <span class="id" title="var">Habs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hend'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">set0</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">F</span>) <span class="id" title="definition">set0</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hend'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set0I</span> <span class="id" title="lemma">eq_refl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hend'</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> (<span class="id" title="axiom">neg</span> <span class="id" title="var">poss</span>))=&gt; [<span class="id" title="var">N</span> <span class="id" title="var">HN</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">col</span>)=&gt; [<span class="id" title="var">C</span> <span class="id" title="var">HC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#exists_repr"><span class="id" title="lemma">exists_repr</span></a> <span class="id" title="var">full</span>)=&gt; [<span class="id" title="var">F</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="notation">(</span><span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">N</span><span class="id" title="notation">)</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span>) <span class="id" title="definition">set0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setIAC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">P</span> <span class="id" title="notation">:&amp;:</span> <span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> (<span class="id" title="axiom">land</span> <span class="id" title="var">poss</span> <span class="id" title="var">col</span>) <span class="id" title="axiom">zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#Hinv"><span class="id" title="projection">Hinv</span></a> <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set0I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#nextLine_numCol"><span class="id" title="lemma">nextLine_numCol</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">min</span> <span class="id" title="var">P</span> <span class="id" title="var">poss</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB'cor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#nextLine_complete"><span class="id" title="lemma">nextLine_complete</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#nextLine_ld"><span class="id" title="lemma">nextLine_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">ltn_ScurLine</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#nextLine_rd"><span class="id" title="lemma">nextLine_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">ltn_ScurLine</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#nextLine_col"><span class="id" title="lemma">nextLine_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span> <span class="id" title="var">poss</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;full&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hqueen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setIdE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#inter_repr"><span class="id" title="lemma">inter_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hqueen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;WTF&nbsp;is&nbsp;this?&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(****************************************************)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">Hmode</span> <span class="id" title="var">Hposs</span> <span class="id" title="var">HcurCount</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Wf.html#Fix_eq"><span class="id" title="lemma">Fix_eq</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hend</span>: (<span class="id" title="axiom">eq</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>).<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;col&nbsp;=&nbsp;full&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">HcurLine2</span>: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">curLine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#r_col"><span class="id" title="projection">r_col</span></a> <span class="id" title="var">HB</span>)=&gt; <span class="id" title="var">Hcol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_col"><span class="id" title="definition">repr_col</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#line_val"><span class="id" title="projection">line_val</span></a> <span class="id" title="var">HB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="queens.html#size_full"><span class="id" title="lemma">size_full</span></a> <span class="id" title="var">n</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">col</span> <span class="id" title="var">full</span> (<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span>) <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span> <span class="id" title="notation">]</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="queens.html#nextLine_end"><span class="id" title="lemma">nextLine_end</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="axiom">one</span>]<a class="idref" href="queens.html#fromInt_elim"><span class="id" title="lemma">fromInt_elim</span></a> <a class="idref" href="queens.html#fromInt_one"><span class="id" title="lemma">fromInt_one</span></a>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;col&nbsp;!=&nbsp;full&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">P</span> := (<span class="id" title="notation">~:</span> <span class="id" title="notation">(</span><span class="id" title="notation">((</span><a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span><span class="id" title="notation">))</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span><span class="id" title="notation">)</span><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ltn_curLine</span>: <span class="id" title="var">curLine</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Bitset.repr_op.html#eq_repr"><span class="id" title="lemma">eq_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span>) <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hend</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#line_val"><span class="id" title="projection">line_val</span></a> <span class="id" title="var">HB</span>) {2}(<a class="idref" href="queens.html#size_full"><span class="id" title="lemma">size_full</span></a> <span class="id" title="var">n</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hprop</span>: <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="notation">\</span><span class="id" title="notation">proper</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x0</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x0</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">properEneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">x0</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="var">x0</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">sub_mem</span>⇒ <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="lemma">in_set</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">existsP</span>: <span class="id" title="var">Hi</span>⇒ [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<a class="idref" href="queens.html#from_correct"><span class="id" title="lemma">from_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">curLine</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">B</span> (<a class="idref" href="queens.html#correct"><span class="id" title="projection">correct</span></a> <span class="id" title="var">HB</span>) <span class="id" title="var">Hj</span>)=&gt; [<span class="id" title="var">res</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">proper_card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">P</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="queens.html#fromInt_zero"><span class="id" title="lemma">fromInt_zero</span></a> <span class="id" title="lemma">addn0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="queens.html#nextLine_oneCase"><span class="id" title="lemma">nextLine_oneCase</span></a> <span class="id" title="var">n</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>) // ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#pos_order"><span class="id" title="definition">pos_order</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">Hmode</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#right_lex"><span class="id" title="constructor">right_lex</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Relations.Relation_Operators.html#left_lex"><span class="id" title="constructor">left_lex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#compl_repr"><span class="id" title="lemma">compl_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#union_repr"><span class="id" title="lemma">union_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P</span> !<span class="id" title="lemma">setCU</span> -<span class="id" title="lemma">setIA</span> <span class="id" title="lemma">subsetIl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P</span> !<span class="id" title="lemma">setCU</span> -<span class="id" title="lemma">setIAC</span> <span class="id" title="lemma">subsetIr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">P</span> !<span class="id" title="lemma">setCU</span> <span class="id" title="lemma">subsetIr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Bleh&nbsp;*)</span><br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="queens_correct"><span class="id" title="lemma">queens_correct</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">wordsize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="queens.html#countNQueens"><span class="id" title="definition">countNQueens</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <span class="id" title="notation">#|</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <a class="idref" href="queens.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">|</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">gtz_n</span> <span class="id" title="var">ltn_n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hempty</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a> <a class="idref" href="queens.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="queens.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> !<span class="id" title="lemma">tnth_mktuple</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#countNQueens"><span class="id" title="definition">countNQueens</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hind</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">ld</span> <span class="id" title="var">rd</span> <span class="id" title="var">col</span> <span class="id" title="var">full</span>, <span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> (<span class="id" title="var">curLine</span>: <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span>) <span class="id" title="var">Hinv</span>,<br/>
&nbsp;&nbsp;@<a class="idref" href="queens.html#repr_queen"><span class="id" title="record">repr_queen</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="queens.html#curLine"><span class="id" title="variable">curLine</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#countNQueensAux"><span class="id" title="definition">countNQueensAux</span></a> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <a class="idref" href="queens.html#ld"><span class="id" title="variable">ld</span></a> <a class="idref" href="queens.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="queens.html#rd"><span class="id" title="variable">rd</span></a> <a class="idref" href="queens.html#full"><span class="id" title="variable">full</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="queens.html#Hinv"><span class="id" title="variable">Hinv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bitset.repr_op.html#toInt"><span class="id" title="axiom">toInt</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <span class="id" title="notation">(</span><a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">ld0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">col0</span> <span class="id" title="var">full0</span> <span class="id" title="var">B</span> <span class="id" title="var">curLine</span> <span class="id" title="var">Hinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="queens.html#queens_correctInd"><span class="id" title="axiom">queens_correctInd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">gtz_n</span> <span class="id" title="var">ltn_n</span> (<a class="idref" href="queens.html#mkPos"><span class="id" title="constructor">mkPos</span></a> <span class="id" title="var">ld0</span> <span class="id" title="var">col0</span> <span class="id" title="var">rd0</span> <span class="id" title="var">full0</span> <span class="id" title="axiom">zero</span> <span class="id" title="axiom">zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">Hinv0</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a> <span class="id" title="definition">ord0</span>)=&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">B'</span> <span class="id" title="keyword">in</span> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span> <span class="id" title="notation">|</span> <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a> <span class="id" title="var">B'</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="queens.html#valid_pos"><span class="id" title="definition">valid_pos</span></a> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#board_included"><span class="id" title="definition">board_included</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hempty</span> <span class="id" title="lemma">implyFb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">andbT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">P</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">i</span> <span class="id" title="notation">:</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_wordsize</span> <span class="id" title="notation">|</span> <span class="id" title="notation">[</span><span class="id" title="notation">∃</span> <span class="id" title="var">j</span><span class="id" title="notation">,</span> <span class="id" title="notation">∃</span> <span class="id" title="var">j'</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="queens.html#get_coord"><span class="id" title="definition">get_coord</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="queens.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span><span class="id" title="notation">]</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="lemma">in_set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">~~</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbRL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hempty</span> <span class="id" title="lemma">andbC</span> <span class="id" title="lemma">andbF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hcol</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="queens.html#make_col"><span class="id" title="definition">make_col</span></a> <span class="id" title="var">n</span> <a class="idref" href="queens.html#empty_board"><span class="id" title="definition">empty_board</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">setP</span> /<span class="id" title="definition">eq_mem</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="lemma">in_set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">~~</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">negbRL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hempty</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Handle&nbsp;ld,&nbsp;rd&nbsp;&amp;&nbsp;col&nbsp;directly&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcol</span> <span class="id" title="lemma">cards0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_correct"><span class="id" title="definition">is_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hempty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">implyFb</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#is_complete"><span class="id" title="definition">is_complete</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">forallP</span>⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">implyP</span>⇒ //.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_ld"><span class="id" title="definition">repr_ld</span></a> /<a class="idref" href="queens.html#make_ld"><span class="id" title="definition">make_ld</span></a> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_rd"><span class="id" title="definition">repr_rd</span></a> /<a class="idref" href="queens.html#make_rd"><span class="id" title="definition">make_rd</span></a> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_col"><span class="id" title="definition">repr_col</span></a> <span class="id" title="var">Hcol</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="Bitset.repr_op.html#zero_repr"><span class="id" title="lemma">zero_repr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="queens.html#repr_full"><span class="id" title="definition">repr_full</span></a> /<span class="id" title="definition">native_repr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="definition">decB</span> (<span class="id" title="definition">shlBn</span> <span class="id" title="notation">#</span>1 <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dec_repr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lsl_repr</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">leq_trans</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span><span class="id" title="notation">.+1</span>))=&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">one_repr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">existsP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><span class="id" title="var">n</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">andP</span>; <span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="axiom">eqIntP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.repr_op.html#toInt_def"><span class="id" title="axiom">toInt_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Bitset.spec.html#subset_repr"><span class="id" title="lemma">spec.subset_repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leq_eqVlt</span> <span class="id" title="var">ltn_n</span> <span class="id" title="lemma">orbT</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Cd</span> "extraction".<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.extraction.ExtrOcamlBasic.html#"><span class="id" title="library">ExtrOcamlBasic</span></a>.<br/>

<br/>
<span class="id" title="var">Separate</span> <span class="id" title="keyword">Extraction</span> <span class="id" title="var">countNQueens</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>